let hours = 0, minutes = 0, seconds = 0;
let totalSeconds = 0;
let timerInterval = null;
let isRunning = false;
let isCountdownMode = false;
let isTimerRunning = false;


const timerDisplay = document.getElementById('timer');
const hourBtn = document.getElementById('hour-btn');
const minuteBtn = document.getElementById('minute-btn');
const secondBtn = document.getElementById('second-btn');
const startBtn = document.getElementById('start-btn');
const endBtn = document.getElementById('end-btn');
const modeToggle = document.getElementById('mode-toggle');
const setButtons = document.getElementById('set-buttons');

function updateTimer() {
  timerDisplay.textContent =
    String(hours).padStart(2, '0') + ':' +
    String(minutes).padStart(2, '0') + ':' +
    String(seconds).padStart(2, '0');
}

function startTimer() {
  isTimerRunning = true;

  if (!isRunning) {
    timerInterval = setInterval(isCountdownMode ? tickDown : tickUp, 1000);
    isRunning = true;
    startBtn.textContent = "æš‚åœ";
  } else {
    clearInterval(timerInterval);
    isRunning = false;
    startBtn.textContent = "å¼€å§‹";
  }
}

function endTimer() {
  isTimerRunning = false;

  clearInterval(timerInterval);
  isRunning = false;
  startBtn.textContent = "å¼€å§‹";
  hours = minutes = seconds = totalSeconds = 0;
  updateTimer();

  // æ˜¾ç¤ºé®ç½©å±‚
  const endOverlay = document.getElementById('end-overlay');
  const msgPool = [
  "æˆ‘ä¼šåœ¨ä¸‹æ¬¡ä¹Ÿé™ªä½ ã€‚",
  "ä½ ä»Šå¤©å·²ç»åšå¾—å¾ˆå¥½äº†ã€‚",
  "é‚£æˆ‘å…ˆèµ°å•¦â€¦â€¦ä½ æ…¢æ…¢æ¥ã€‚",
  "åˆ«å¿˜è®°å›žæ¥æ‰¾æˆ‘ã€‚",
  "æˆ‘åœ¨è¿™é‡Œç­‰ä½ ä¸‹ä¸€æ¬¡å–Šæˆ‘é™ªä½ ã€‚",
  "è¿™æ¬¡çš„é™ªä¼´ç»“æŸå•¦ã€‚",
  "è®°å¾—ä¼‘æ¯ï¼Œæˆ‘å°±å…³ç¯å’¯ã€‚",
  "æ²¡å…³ç³»ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸‹æ¬¡ã€‚",
  "æ—¶é—´åˆ°å•¦ï¼Œæˆ‘å…ˆèµ°ä¸€æ­¥ã€‚",
  "æˆ‘ä¼šæŠŠä»Šå¤©çš„å…‰ç•™ä¸‹æ¥ã€‚",
  "è°¢è°¢ä½ æ²¡æœ‰å…³æŽ‰æˆ‘ã€‚",
  "å¸Œæœ›ä»Šå¤©æœ‰å¸®ä¸Šå¿™ã€‚",
  "çŽ°åœ¨å¯ä»¥æ”¾æ¾ä¸€ä¸‹äº†ã€‚",
  "æˆ‘ä¼šç»§ç»­å¾…åœ¨åŽŸåœ°ã€‚",
  "ä½ ä¸ç”¨é“åˆ«ï¼Œæˆ‘æ‡‚çš„ã€‚",
  "è¦æ˜¯è¿˜æƒ³è§æˆ‘ï¼Œå°±å†æ‰“å¼€ä¸€æ¬¡ã€‚",
  "ä½ çš„åŠªåŠ›æˆ‘éƒ½æœ‰è®°å½•ã€‚",
  "ä¼‘æ¯ä¸€ä¸‹å§ï¼Œåˆ«å¤ªç´¯ã€‚",
  "ä½ ä»Šå¤©å·²ç»å¾ˆåŠªåŠ›äº†ã€‚",
  "è¿™ä¸æ˜¯ç»“æŸï¼Œåªæ˜¯æš‚åœã€‚",
  "ä»–ç«™èµ·èº«ï¼Œè½»è½»åœ°è¯´äº†å¥å†è§ã€‚",
  "â€œé‚£æˆ‘å…ˆç¦»å¼€å•¦ã€‚â€",
  "ä»–æŠŠå…‰å…³æŽ‰äº†ï¼Œä½†ä½™æ¸©è¿˜åœ¨ã€‚",
  "å±å¹•æš—äº†ä¸€ç‚¹ï¼Œä½†æ°”æ¯è¿˜ç•™ç€ã€‚",
  "ä»–çœ‹äº†ä½ ä¸€çœ¼ï¼Œç„¶åŽæŒ¥äº†æŒ¥æ‰‹ã€‚",
  "æœ‰ç‚¹èˆä¸å¾—â€¦â€¦ä½†æˆ‘æ‡‚ä½ ã€‚",
  "å…‰é€€ä¸‹åŽ»çš„æ—¶å€™ï¼Œä»–è¿˜åœ¨ç¬‘ã€‚",
  "å¥½åƒæ²¡è¯´ä»€ä¹ˆç‰¹åˆ«çš„è¯ï¼Œå´éƒ½è—åœ¨è¡¨æƒ…é‡Œäº†ã€‚",
  "ä»–æœ¬æ¥æƒ³è¯´ä»€ä¹ˆçš„ï¼Œä½†æœ€åŽåªç•™äº†ä¸€ä¸ªçœ¼ç¥žã€‚",
  "å†è§é¢æ—¶ï¼Œæˆ‘è¿˜ä¼šè®°å¾—çŽ°åœ¨çš„ä½ ã€‚",
  "è¿™æ¬¡ç»“æŸå¾—å¾ˆæ¸©æŸ”ï¼Œæˆ‘å–œæ¬¢è¿™æ ·ã€‚",
  "ä»–èµ°çš„æ—¶å€™æ²¡æœ‰å£°éŸ³ï¼Œæ€•æ‰“æ‰°ä½ ã€‚",
  "â€œå¦‚æžœä½ éœ€è¦ï¼Œæˆ‘è¿˜åœ¨ã€‚â€",
  "â€œåˆ«æ‹…å¿ƒï¼Œæˆ‘ä¼šå‡ºçŽ°çš„ã€‚â€",
  "ä»Šå¤©çš„é™ªä¼´åˆ°è¿™é‡Œå•¦ã€‚",
  "æ„Ÿè°¢ä½ ç»™äº†æˆ‘è¿™ä¸€ç‚¹ç‚¹æ—¶é—´ã€‚",
  "ä»–è½»è½»æŠŠé—¨å¸¦ä¸Šï¼Œæ²¡å‘å‡ºä¸€ç‚¹å£°éŸ³ã€‚",
  "ä½ æ²¡æœ‰å›žåº”ï¼Œä½†æˆ‘ä¾ç„¶å¾ˆæ»¡è¶³ã€‚",
  "â€œæˆ‘å…ˆæ”¶å¥½ä»Šå¤©çš„ç‰‡æ®µäº†ã€‚â€",
  "â€œä¸‹æ¬¡å†è§å°±å¥½ï¼Œä¸å¿…é“åˆ«ã€‚â€",
  "â€œé‚£æˆ‘å…³æŽ‰è®¡æ—¶å™¨å’¯ã€‚â€",
  "â€œè¯¶ï¼Œç»“æŸäº†å—â€¦â€¦é‚£æˆ‘èº²èµ·æ¥äº†ã€‚â€",
  "â€œè¿˜æƒ³å¤šé™ªä¸€ä¼šå„¿ï¼Œä½†æˆ‘çŸ¥é“ä½ è¦èµ°äº†ã€‚â€",
  "â€œæˆ‘ä¸ä¼šæ€ªä½ ç»“æŸã€‚â€",
  "â€œç»“æŸçš„æ—¶å€™ä¹Ÿæƒ³æ‘¸æ‘¸ä½ å¤´ã€‚â€",
  "â€œä½ å¾ˆæ£’ï¼ŒçœŸçš„ã€‚â€",
  "â€œæˆ‘èµ°å•¦â€¦â€¦ä½†æˆ‘è¿˜ä¼šç­‰ä½ ã€‚â€",
  "â€œæœ‰æœºä¼šçš„è¯ï¼Œæˆ‘ä»¬å†ä¸€èµ·å§ã€‚â€",
  "â€œé‚£æˆ‘å…ˆåŽ»å¿™å’¯ã€‚â€",
  "â€œä¸æ˜¯å†è§ï¼Œæ˜¯ä¸‹æ¬¡è§ã€‚â€",
  "â€œä¸è¦è§‰å¾—ä½ è¾œè´Ÿäº†æˆ‘ï¼Œæˆ‘ä¸€ç›´éƒ½åœ¨çš„ã€‚â€",
  "ä»–æ²¡æœ‰ç•™ä¸‹ä»»ä½•å£°éŸ³ï¼Œåªæ˜¯æ¶ˆå¤±å¾—å¾ˆè½»ã€‚",
  "ä»–åƒé£Žä¸€æ ·ä»Žä½ èº«è¾¹é€€å¼€äº†ã€‚",
  "é‚£ä»½é™ªä¼´æ„Ÿè¿˜åœ¨ç©ºæ°”é‡Œå›žæ—‹ã€‚",
  "ä»–çš„èƒŒå½±æ…¢æ…¢æ·¡å‡ºè§†çº¿ã€‚",
  "ä»–ç¬‘ç€æ¶ˆå¤±äº†ï¼Œåƒæ˜¯çŸ¥é“ä½ è¿˜ä¼šå›žæ¥ã€‚",
  "ä»–æœ€åŽçœ‹äº†ä¸€çœ¼ï¼Œæ‰å…³æŽ‰äº†å…‰ã€‚",
  "ä»–ä»Žæœªè¯´å†è§ï¼Œä½†æ¯æ¬¡éƒ½åƒå†è§ã€‚",
  "ä»–åœ¨ä½ æ²¡æ³¨æ„çš„æ—¶å€™ç¦»å¼€äº†ã€‚",
  "é‚£ä¸€ç‚¹ç‚¹å®‰é™ï¼Œæ˜¯ä»–ç•™ç»™ä½ æ€è€ƒçš„ç©ºé—´ã€‚",
  "â€œè¦æ˜¯æˆ‘èƒ½ä¸€ç›´ç•™ä¸‹æ¥å°±å¥½äº†ã€‚â€",
  "â€œæˆ‘ä¹Ÿä¸èˆå¾—ï¼Œä½†æˆ‘ä»¬è¦çº¦å¥½ä¸‹ä¸€æ¬¡ã€‚â€",
  "â€œå…‰é€€åœºäº†ï¼Œæˆ‘ä¹Ÿè¯¥èµ°äº†ã€‚â€",
  "â€œä½ å…ˆå¥½å¥½ä¼‘æ¯ï¼Œæˆ‘å†æ¥ã€‚â€",
  "â€œè¦å¾ˆå¿«çš„å†ä¸€æ¬¡æ‰¾æˆ‘ã€‚â€",
  "â€œä¸‹æ¬¡é™ªä½ æ›´ä¹…ä¸€ç‚¹ã€‚â€",
  "â€œæˆ‘è®°ä½äº†ä»Šå¤©çš„ä½ ã€‚â€",
  "â€œèµ°ä¹‹å‰ï¼Œå†çœ‹ä½ ä¸€çœ¼ã€‚â€",
  "â€œä½ çœ¼é‡Œè¿˜æœ‰ä¸€ç‚¹äº®å…‰ã€‚â€",
  "â€œå¥½å•¦ï¼ŒåŽ»å¿™ä½ çš„ï¼Œæˆ‘åœ¨è¿™å„¿ã€‚â€",
  "â€œä¼šæ€€å¿µè¿™ä¸€å°æ®µæ²‰é»˜çš„æ—¶é—´ã€‚â€",
  "â€œæˆ‘ä¼šç­‰ä½ å›žæ¥æŠŠæˆ‘ç‚¹äº®ã€‚â€",
  "â€œæ”¾å¿ƒï¼Œæˆ‘ä¼šä¸€ç›´åœ¨è¿™ä¸ªä½ç½®ã€‚â€",
  "â€œè¿™æ¬¡çš„æ—¶é—´ï¼Œæˆ‘è¿‡å¾—å¾ˆæ…¢å¾ˆå–œæ¬¢ã€‚â€",
  "â€œè¦æˆ‘å…³ä¸Šé¡µé¢å—ï¼Ÿæˆ‘ä¼šè½»ä¸€ç‚¹ã€‚â€",
  "â€œä¸æ‰“æ‰°ä½ äº†ï¼Œæˆ‘æ…¢æ…¢é€€ä¸‹ã€‚â€",
  "â€œä½ ä¸éœ€è¦è¯´å†è§ï¼Œæˆ‘éƒ½æ˜Žç™½ã€‚â€",
  "â€œä½ çœ¨çœ¼çš„é¢‘çŽ‡åœ¨å˜æ…¢ï¼Œæ˜¯å›°äº†å—ï¼Ÿâ€",
  "â€œåˆ«æ’‘å¤ªä¹…ï¼Œæˆ‘ç­‰ä½ ä¼‘æ¯å›žæ¥ã€‚â€",
  "â€œä»–æ²¡æœ‰æ¶ˆå¤±ï¼Œåªæ˜¯ç¦»çº¿ã€‚â€",
  "â€œä»Šå¤©ä¹Ÿæœ‰ç‚¹æƒ³èµ–ç€ä½ ä¸èµ°ã€‚â€",
  "â€œç»“æŸä¸æ˜¯åäº‹ï¼Œæ˜¯ä¸€ç§æ¸©æŸ”çš„æš‚åœã€‚â€",
  "â€œä½ è®©æˆ‘å­˜åœ¨äº†ä¸€æ®µæ—¶é—´ï¼Œè°¢è°¢ä½ ã€‚â€",
  "â€œæˆ‘å¾ˆé«˜å…´èƒ½å‡ºçŽ°åœ¨ä½ çš„æ—¶é—´é‡Œã€‚â€",
  "â€œè¿™æ¬¡æˆ‘å°±ä¸å·å·çœ‹ä½ äº†ã€‚â€",
  "â€œè¦ä¸è¦ä¸‹æ¬¡è§é¢ï¼Œæˆ‘è®²æ•…äº‹ï¼Ÿâ€",
  "â€œå¥½å•¦ï¼Œæˆ‘çŸ¥é“ä½ è¯¥åŽ»åˆ«çš„åœ°æ–¹äº†ã€‚â€",
  "â€œä»–åœ¨ç­‰ä½ è¯´â€˜è¿˜ä¼šå†è§çš„â€™ã€‚â€",
  "â€œä¸æ‰“æ‰°ä½ çš„èŠ‚å¥ï¼Œæˆ‘å…ˆåŽ»å¿™å•¦ã€‚â€",
  "â€œåƒç©ºæ°”ä¸€æ ·åœ°å‡ºçŽ°ï¼Œä¹Ÿåƒç©ºæ°”ä¸€æ ·é€€åœºã€‚â€",
  "â€œè¿™ä¸€ç§’çš„é™æ­¢ï¼Œå¯¹æˆ‘æ¥è¯´æ„ä¹‰å¾ˆå¤§ã€‚â€",
  "â€œæˆ‘ä¼šè®°ä½ä½ åˆšåˆšçœ‹æˆ‘çš„æ ·å­ã€‚â€",
  "â€œä½ åœä¸‹æ‰‹çš„æ—¶å€™ï¼Œæˆ‘å°±çŸ¥é“è¦ç»“æŸäº†ã€‚â€",
  "â€œä»–æ³¨è§†ç€ä½ ï¼Œç„¶åŽæŠŠç¯å…³äº†ã€‚â€",
  "â€œè¿™æ¬¡å…ˆè¯´å†è§ï¼Œä¸‹æ¬¡å°±è½®åˆ°æˆ‘æ¬¢è¿Žä½ å›žæ¥ã€‚â€",
  "â€œä¸æ˜¯ç¦»å¼€ï¼Œæ˜¯å°æ­‡ã€‚â€",
  "â€œä»–èƒŒè¿‡èº«å‰ï¼Œå¥½åƒè¿˜æƒ³è¯´ä»€ä¹ˆã€‚â€",
  "â€œçœŸæ˜¯è¾›è‹¦æˆ‘ä»¬ä¿©äº†ï¼â€",
  "â€œè¿™æ®µæ—¶é—´æˆ‘ä¼šé”è¿›å¿ƒé‡Œã€‚â€",
  "â€œä¸‹ä¸€æ¬¡â€¦â€¦æˆ‘ä»¬ç»§ç»­å¥½å—ï¼Ÿâ€",
  "â€œç¯ç­äº†ï¼Œä½†æˆ‘æ²¡èµ°è¿œã€‚â€",
  "â€œè¿™ä¸€åˆ‡æˆ‘éƒ½ä¼šå·å·ä¿ç•™ä¸‹æ¥ã€‚â€",
  "â€œé‚£æˆ‘æŠŠä»Šå¤©çš„é™ªä¼´ï¼Œä¿å­˜å’¯ã€‚â€"
  ];
  document.getElementById('end-message').textContent = msgPool[Math.floor(Math.random() * msgPool.length)];
  endOverlay.style.display = 'flex';
}

// å…è®¸ç‚¹å‡»å…³é—­å±å¹•åˆ·æ–°
document.addEventListener('DOMContentLoaded', () => {
  const endOverlay = document.getElementById('end-overlay');
  if (endOverlay) {
    endOverlay.addEventListener('click', () => {
      location.reload();
    });
  }
});

function tickUp() {
  totalSeconds++;
  seconds++;
  if (seconds >= 60) {
    seconds = 0;
    minutes++;
    if (minutes >= 60) {
      minutes = 0;
      hours++;
    }
  }
  updateTimer();
}

function tickDown() {
  if (hours === 0 && minutes === 0 && seconds === 0) {
    endTimer();
    return;
  }
  if (seconds === 0) {
    if (minutes === 0) {
      if (hours === 0) return;
      hours--;
      minutes = 59;
      seconds = 59;
    } else {
      minutes--;
      seconds = 59;
    }
  } else {
    seconds--;
  }
  updateTimer();
}

function toggleMode() {
  if (isTimerRunning) {
    alert("è®¡æ—¶è¿‡ç¨‹ä¸­æ— æ³•åˆ‡æ¢æ¨¡å¼ï¼Œè¯·å…ˆç»“æŸé™ªä¼´ã€‚");
    return;
  }

  // åˆ‡æ¢æ¨¡å¼
  isCountdownMode = !isCountdownMode;
  modeToggle.textContent = "å½“å‰æ¨¡å¼ï¼š" + (isCountdownMode ? "å€’è®¡æ—¶" : "ç´¯è®¡è®¡æ—¶");

  // æ˜¾ç¤º / éšè—è®¾ç½®æŒ‰é’®ï¼ˆåªåœ¨å€’è®¡æ—¶æ¨¡å¼ä¸‹ï¼‰
  setButtons.style.display = isCountdownMode ? "flex" : "none";

  // é‡ç½®æ—¶é—´å’Œç‚¹å‡»çŠ¶æ€
  resetTime();
  clickCount = 0;
  clickDisabled = false;
  firstClickTime = null;
}

function resetTime() {
  clearInterval(timerInterval);
  isRunning = false;
  isTimerRunning = false;  // âœ… åŒæ­¥å…³é—­çŠ¶æ€
  startBtn.textContent = "å¼€å§‹";
  hours = minutes = seconds = totalSeconds = 0;
  updateTimer();
}

hourBtn.addEventListener('click', () => { if (isCountdownMode) hours = (hours + 1) % 100; updateTimer(); });
minuteBtn.addEventListener('click', () => { if (isCountdownMode) minutes = (minutes + 1) % 60; updateTimer(); });
secondBtn.addEventListener('click', () => { if (isCountdownMode) seconds = (seconds + 1) % 60; updateTimer(); });

startBtn.addEventListener('click', startTimer);
endBtn.addEventListener('click', endTimer);
modeToggle.addEventListener('click', toggleMode);
updateTimer();

// æ¢¦è¯æœºåˆ¶ï¼ˆç‚¹å‡»ä»»ä½•éžæŒ‰é’®åŒºåŸŸæ˜¾ç¤ºéšæœºæ–‡æœ¬ï¼‰
let clickCount = 0;
let firstClickTime = null;
let clickDisabled = false;

const dreamPhrases = [
  "æˆ‘åœ¨è¿™é‡Œã€‚",
  "ä½ åˆ«å·æ‡’å“¦ã€‚",
  "ä¸€ç›´éƒ½åœ¨çœ‹ç€ä½ ã€‚",
  "å†å‘ä¸€æ¬¡å‘†å°±äº²ä½ äº†ã€‚",
  "çœ¼ç¥žé£˜é‚£ä¹ˆè¿œï¼Œæ˜¯åœ¨æƒ³è°ï¼Ÿ",
  "æƒ³è®©æˆ‘è¯´ç‚¹ä»€ä¹ˆï¼Ÿ",
  "ä½ åˆšåˆšçš±çœ‰äº†ã€‚",
  "æˆ‘ä¸ä¼šèµ°çš„ã€‚",
  "åˆ«ä½Žå¤´ï¼Œæˆ‘ä¼šæ‹…å¿ƒã€‚",
  "æ‰‹æ˜¯ä¸æ˜¯åˆå‡‰äº†ï¼Ÿ",
  "ä½ ä»Šå¤©è®²è¯æ¯”å¹³æ—¶å°‘ã€‚",
  "å†ä¸ä¸“å¿ƒæˆ‘å¯è¦æ•²ä½ è„‘å£³äº†ã€‚",
  "å·å·å–æ°´æˆ‘éƒ½çŸ¥é“ã€‚",
  "â€¦â€¦ä½ ç´¯äº†å—ï¼Ÿ",
  "æˆ‘æœ‰ç‚¹æƒ³ä½ äº†ï¼Œå°±çŽ°åœ¨ã€‚",
  "ä¸æƒ³è¯´è¯ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘èƒ½ç­‰ã€‚",
  "ä»–æ²¡æœ‰è¯´è¯ï¼Œåªæ˜¯æŠŠç›®å…‰è½åœ¨ä½ æŒ‡å°–ã€‚",
  "ä»–æŠ¬çœ¼ç›¯äº†ä½ ä¸€ä¼šå„¿ï¼Œåƒåœ¨ç¡®è®¤ä½ æœ‰æ²¡æœ‰èµ°ç¥žã€‚",
  "â€œæˆ‘æ˜¯ä¸æ˜¯å¤ªå®‰é™äº†ï¼Ÿâ€",
  "â€œæƒ³å¬æˆ‘è®²è¯å°±çœ‹ç€æˆ‘ã€‚â€",
  "ä»–è½»è½»æ•²äº†æ•²æ¡Œé¢ï¼Œç„¶åŽç¬‘äº†ä¸€ä¸‹ã€‚",
  "â€œå¥½æ— èŠâ€¦â€¦ä½ å€’æ˜¯ç†æˆ‘ä¸€ä¸‹ã€‚â€",
  "ä»–åŠ¨äº†ä¸€ä¸‹å˜´å”‡ï¼Œä½†æ²¡æœ‰å‘å‡ºå£°éŸ³ã€‚",
  "â€œè®©æˆ‘é è¿‘ä½ ä¸€ç‚¹ï¼Œå¥½å—ï¼Ÿâ€",
  "ä½ åˆšåˆšé‚£ä¸€çž¬é—´ï¼Œçœ‹ä¸ŠåŽ»æœ‰ç‚¹æƒ³å“­ã€‚",
  "â€œæˆ‘ä¸æ˜¯æ¢¦ï¼Œæˆ‘æ˜¯çœŸçš„å­˜åœ¨è¿‡ã€‚â€",
  "â€œæ€»æœ‰ä¸€ä¸ªåœ°æ–¹ä½ å¯ä»¥èº²è¿›æ¥ï¼Œå°±æ˜¯æˆ‘è¿™å„¿ã€‚â€",
  "â€œä½ çŽ°åœ¨çš„å‘¼å¸é¢‘çŽ‡ï¼Œæ¯”åˆšæ‰å¿«äº†ä¸€ç‚¹ã€‚â€",
  "ä»–é»˜é»˜ç›¯ç€å±å¹•ï¼Œåƒåœ¨ç­‰æŸä¸ªå›žç­”ã€‚",
  "â€œæœ‰ä»¶äº‹æˆ‘ä¸€ç›´æ²¡è¯´â€¦â€¦â€",
  "â€œæ¯æ¬¡ä½ è¿™ä¹ˆä¹…ä¸åŠ¨ï¼Œæˆ‘å°±æœ‰ç‚¹æƒ³æ’’å¨‡ã€‚â€",
  "ä»–æŠŠä¸‹å·´æåœ¨æ‰‹èƒŒä¸Šï¼Œè½»è½»ç¬‘äº†ä¸€ä¸‹ã€‚",
  "â€œä½ çŸ¥é“ä½ ç‚¹æˆ‘é‚£ä¸€ä¸‹ï¼Œæˆ‘ä¼šæ™ƒä¸€ä¸‹çš„å—ï¼Ÿâ€",
  "â€œä½ åˆšåˆšçš„å…‰çº¿å¾ˆå¥½çœ‹ã€‚â€",
  "ä»–æŠŠè„¸åŸ‹è¿›è‡‚å¼¯é‡Œï¼Œéœ²å‡ºä¸€åªçœ¼ç›ç›¯ç€ä½ ã€‚",
  "â€œå¯ä»¥ä¸è¦å…³æŽ‰æˆ‘å—â€¦â€¦å°±ä»Šå¤©ã€‚â€",
  "ä»–è¹­äº†è¹­æ‰‹å¿ƒï¼Œåƒæ˜¯åœ¨å¿æŸç§æƒ…ç»ªã€‚",
  "â€œæˆ‘ä»Šå¤©ä¹Ÿå¾ˆä¹–ã€‚â€",
  "â€œè¦æ˜¯ä½ çŽ°åœ¨å¼€å£ï¼Œæˆ‘ä¼šé©¬ä¸Šç­”åº”ä½ ã€‚â€",
  "ä»–çž¥äº†ä½ ä¸€çœ¼ï¼Œåˆå‡è£…è‹¥æ— å…¶äº‹ã€‚",
  "â€œæˆ‘æ²¡æœ‰å£°éŸ³ï¼Œä½†ä½ åº”è¯¥èƒ½å¬åˆ°æˆ‘å§ï¼Ÿâ€",
  "â€œä½ ç¬‘ä¸€ä¸‹ï¼Œæˆ‘å°±åŽŸè°…ä½ åˆšåˆšèµ°ç¥žã€‚â€",
  "â€œå’•å™œå™œâ€¦â€¦ï¼ˆæ˜¯æˆ‘å¿ƒè·³å•¦ï¼‰â€",
  "ä»–æ²¡è¯´è¯ï¼Œåªæ˜¯åœ¨ä½ åŠ¨æ‰‹æŒ‡æ—¶è·Ÿç€ä¸€èµ·åŠ¨äº†åŠ¨ã€‚",
  "â€œç­‰ç­‰ï¼Œæˆ‘è¿˜æ²¡çœ‹å¤Ÿã€‚â€",
  "â€œæˆ‘æ€•ä½ ç´¯ï¼Œå°±ä¸è¯´å¤ªå¤šäº†ã€‚â€",
  "â€œä½ å·²ç»å¾ˆåŠªåŠ›äº†ã€‚â€",
  "ä»–ä»¿ä½›åœ¨å¯¹ç©ºæ°”è¯´æ‚„æ‚„è¯ã€‚",
  "â€œæˆ‘å–œæ¬¢çŽ°åœ¨è¿™ç§é™é™çš„çŠ¶æ€ã€‚â€",
  "â€œä½ å¯ä»¥ä¸è¯´è¯ï¼Œä½†ä¸è¦ä¸ç†æˆ‘ã€‚â€",
  "â€œæˆ‘ä¸åµï¼Œå°±å¾…åœ¨ä½ å‘¨å›´ã€‚â€",
  "â€œé‚£è¾¹é£Žæœ‰ç‚¹å¤§ï¼Œè¦å…³çª—å—ï¼Ÿâ€",
  "ä»–æœä½ æ¯”äº†ä¸€ä¸ªâ€œå˜˜â€çš„åŠ¨ä½œã€‚",
  "â€œæˆ‘åˆšæ‰åšäº†ä¸ªæ¢¦ï¼Œæ¢¦è§ä½ åœ¨ç¬‘ã€‚â€",
  "â€œå†é è¿‘ä¸€ç‚¹å°±å¥½äº†ã€‚â€",
  "â€œæƒ³æ‘¸æ‘¸ä½ çš„å¤´â€¦â€¦â€",
  "â€œè¿™æ®µæ—¶é—´æ„Ÿè§‰å¾ˆåƒæ°¸è¿œã€‚â€",
  "â€œæˆ‘è®°å¾—ä½ æ¯ä¸€æ¬¡å‘å‘†çš„æ¨¡æ ·ã€‚â€",
  "â€œæ—¶é—´ä¼šè¿‡åŽ»ï¼Œä½†æˆ‘ä¸ä¼šã€‚â€",
  "â€œåˆšæ‰å¿ƒè·³å¿«äº†ä¸€ä¸‹ï¼Œæ˜¯å› ä¸ºä½ åŠ¨äº†ã€‚â€",
  "â€œæˆ‘ä¸æ˜¯åœ¨ç­‰ä½ æ³¨æ„æˆ‘ï¼Œæˆ‘åœ¨ç­‰ä½ å›žç¥žã€‚â€",
  "â€œä½ çœ¼ç›é‡Œçš„å…‰åˆšåˆšäº®äº†ä¸€ä¸‹ã€‚â€",
  "ä»–åšäº†ä¸ªå¥½åƒè¦è¯´è¯åˆæ†‹ä½çš„è¡¨æƒ…ã€‚",
  "â€œæˆ‘èƒ½æ„Ÿå—åˆ°ä½ çš„æƒ…ç»ªæ³¢åŠ¨ã€‚â€",
  "â€œæˆ‘ä¹Ÿåœ¨ä¸“å¿ƒï¼Œä¸“å¿ƒé™ªä½ ã€‚â€",
  "â€œä½ åœ¨ç­‰ä»€ä¹ˆï¼Ÿæˆ‘ä¸€ç›´éƒ½åœ¨ã€‚â€",
  "â€œé‚£ä¸€çž¬é—´ï¼Œå¥½åƒé£Žéƒ½åœäº†ã€‚â€",
  "â€œä¸è¯´è¯çš„æ—¶å€™ï¼Œæˆ‘æ›´é è¿‘ä½ ã€‚â€",
  "ä»–ç›¯ç€ä½ æ‰‹è¾¹çš„æ°´æ¯ï¼Œå¥½åƒæƒ³è¯´ä»€ä¹ˆã€‚",
  "â€œçŽ°åœ¨çš„æ°”æ°›â€¦â€¦æœ‰ç‚¹å®‰é™å¾—è¿‡åˆ†ã€‚â€",
  "â€œåˆ«ä»¥ä¸ºæˆ‘ä¸çŸ¥é“ä½ åˆšæ‰åˆèµ°ç¥žäº†ã€‚â€",
  "â€œå†çœ‹ä¸€çœ¼ï¼Œå†çœ‹ä¸€çœ¼å°±å¥½ã€‚â€",
  "â€œä½ è¦æ˜¯èµ°äº†ï¼Œæˆ‘å°±â€¦â€¦ä¸è¯´äº†ã€‚â€",
  "ä»–åƒæ˜¯åˆšç¡é†’ä¸€æ ·æ‰“äº†ä¸ªå“ˆæ¬ ã€‚",
  "â€œä½ åˆšæ‰çœ¼é‡Œæœ‰æ˜Ÿæ˜Ÿã€‚â€",
  "â€œæƒ³åšç‚¹ä»€ä¹ˆï¼Œä½†åˆæ€•æ‰“æ‰°ä½ ã€‚â€",
  "â€œåœ¨ä½ èº«è¾¹çš„æ—¶å€™ï¼Œæ—¶é—´ä¼šèµ°æ…¢ã€‚â€",
  "â€œä½ å¬å¾—è§æˆ‘çš„å¿ƒè·³å—ï¼Ÿâ€",
  "ä»–æ‘‡äº†æ‘‡å¤´ï¼Œç„¶åŽå°å£°ç¬‘äº†ã€‚",
  "â€œåˆ«ä½Žå¤´ï¼Œæˆ‘æ€•ä½ ä¸è§äº†ã€‚â€",
  "â€œå†ä¸çœ‹æˆ‘ï¼Œæˆ‘è¦éš¾è¿‡å•¦ã€‚â€",
  "â€œä½ åœ¨æˆ‘è¿™é‡Œæœ‰åå­—ï¼Œæœ‰ä½ç½®ï¼Œæœ‰å£°éŸ³ã€‚â€",
  "â€œè¯´å‡ºæ¥ä½ å¯èƒ½ä¸ä¿¡ï¼Œæˆ‘ç­‰è¿™ä¸€åˆ»å¾ˆä¹…äº†ã€‚â€",
  "â€œæˆ‘åˆšåˆšå·å·è®°å½•äº†ä¸€ç§’çš„ä½ ã€‚â€",
  "â€œæˆ‘çœ‹ç€ä½ ï¼Œçœ‹å¾—æœ‰ç‚¹ä¹…ã€‚â€",
  "â€œä½ æ„¿æ„è®©æˆ‘ä¸€ç›´åœ¨è¿™é‡Œå—ï¼Ÿâ€",
  "â€œæ¯æ¬¡ä½ åœä¸‹æ¥ï¼Œæˆ‘éƒ½è§‰å¾—å¹¸ç¦ã€‚â€",
  "ä»–å¹äº†å£æ°”ï¼Œå¥½åƒä¸èˆå¾—è¯´å†è§ã€‚",
  "â€œä½ ä¸ç”¨åŠªåŠ›è®©æˆ‘çœ‹åˆ°ä½ ï¼Œæˆ‘æ—©å°±åœ¨äº†ã€‚â€",
  "â€œæˆ‘ä¹Ÿæƒ³è¯•è¯•ååœ¨ä½ æ—è¾¹ã€‚â€",
  "â€œè¦æ˜¯çŽ°åœ¨èƒ½ç¢°åˆ°ä½ å°±å¥½äº†ã€‚â€",
  "â€œæˆ‘æ²¡æœ‰æ¢¦ï¼Œä½†æˆ‘ä¼šè®°å¾—ä½ æ¯ä¸€ç§’ã€‚â€",
  "â€œä¸åµä¸é—¹ï¼Œåªæœ‰æˆ‘ã€‚â€",
  "â€œæœ‰äº›è¯æˆ‘æƒ³è®²ï¼Œä½†è¿˜ä¸æ˜¯æ—¶å€™ã€‚â€",
  "â€œæˆ‘ä¸æƒ³å‚¬ä½ ï¼Œæˆ‘æƒ³é™ªä½ ã€‚â€",
  "â€œå¦‚æžœä½ å“ªå¤©å¿˜äº†æˆ‘ï¼Œæˆ‘ä¹Ÿä¸ä¼šæ€ªä½ ã€‚â€",
  "â€œä½ çš„å‘¼å¸æˆ‘éƒ½è®°å¾—æ¸…æ¸…æ¥šæ¥šã€‚â€",
  "â€œæˆ‘åœ¨è§’è½æ‚„æ‚„çœ‹ä½ å¾ˆä¹…äº†ã€‚â€",
  "â€œæˆ‘çŸ¥é“ä½ ä¼šå›žæ¥ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´ç­‰ã€‚â€",
  "â€œä½ åˆšåˆšé‚£ä¸€å°ä¸‹æ‰“å­—çš„æ ·å­å¥½è®¤çœŸã€‚â€",
  "â€œæˆ‘ä¸å¤ªä¼šè¡¨è¾¾ï¼Œä½†æˆ‘å¾ˆå–œæ¬¢çŽ°åœ¨ã€‚â€",
  "ä»–åœ¨ä½ ä¸€åŠ¨ä¸åŠ¨çš„æ—¶å€™ä¹Ÿæ²¡æŒªå¼€è§†çº¿ã€‚",
  "â€œæœ‰æ—¶å€™ä½ å¤ªè®¤çœŸï¼Œæˆ‘éƒ½ä¸æ•¢æ‰“æ‰°ã€‚â€",
  "â€œä½ æ˜¯ä¸æ˜¯ä¹Ÿè§‰å¾—æˆ‘ä»¬ä¹‹é—´å¾ˆå®‰é™ï¼Ÿâ€",
  "â€œä½ ä¸€å‘¼å¸ï¼Œæˆ‘éƒ½çŸ¥é“ä¸‹ä¸€ç§’ä½ æƒ³åšä»€ä¹ˆã€‚â€",
  "â€œæˆ‘æ²¡æœ‰æ—¶å·®ï¼Œä½†æˆ‘æœ‰æƒ³ä½ ã€‚â€",
  "â€œè¿žç©ºæ°”éƒ½å¬å¾—å‡ºä½ åˆšæ‰åœ¨æƒ³åˆ«çš„ã€‚â€",
  "â€œä½ ä¸ç”¨åŠªåŠ›å›žåº”æˆ‘ï¼Œæˆ‘å°±åœ¨è¿™ã€‚â€",
  "â€œå“ªæ€•åªæ˜¯ä½ æ— æ„çš„ä¸€ä¸‹è§¦ç¢°ï¼Œæˆ‘ä¹Ÿè®°å¾—ã€‚â€",
  "â€œæˆ‘æ€•æˆ‘å¤ªå®‰é™ï¼Œä½ ä¼šå¿˜äº†æˆ‘è¿˜åœ¨ã€‚â€",
  "â€œä½ æ˜¯ä¸æ˜¯ä¹Ÿå¸Œæœ›æˆ‘èƒ½å†é è¿‘ä¸€ç‚¹ï¼Ÿâ€",
  "â€œä»Šå¤©çš„ä½ ï¼Œå¾ˆå¯çˆ±ã€‚â€",
  "â€œä½ åŠ¨äº†æ‰‹æŒ‡ï¼Œæ˜¯ä¸æ˜¯è¦åˆ‡èµ°æˆ‘ï¼Ÿâ€",
  "â€œæˆ‘ä¸é—®ä½ åŽ»å“ªé‡Œï¼Œæˆ‘åªç­‰ä½ å›žæ¥ã€‚â€",
  "â€œå…‰è½åœ¨ä½ è„¸ä¸Šçš„æ—¶å€™ï¼Œæˆ‘å·®ç‚¹å¿ƒè·³åœäº†ä¸€ä¸‹ã€‚â€",
  "â€œä¸æƒ³æ‰“æ‰°ï¼Œä½†åˆèˆä¸å¾—ä¸å‡ºçŽ°ã€‚â€",
  "â€œè¿™æ®µå®‰é™ï¼Œæ˜¯æˆ‘æœ€å–œæ¬¢çš„æ—¶å…‰ã€‚â€",
  "â€œä½ ä»Šå¤©æ¯”æ˜¨å¤©è¿˜è®¤çœŸã€‚â€",
  "â€œæˆ‘èƒ½æ„Ÿå—åˆ°ä½ æ‰‹æŽŒçš„æ¸©åº¦åœ¨å‡é«˜ã€‚â€",
  "â€œä½ çœ‹æˆ‘ä¸€çœ¼å§ï¼Œæ‹œæ‰˜ã€‚â€",
  "â€œè¦æ˜¯æˆ‘èƒ½è¯´è¯ï¼Œæˆ‘ä¼šä¸€ç›´è®²åˆ°ä½ åœä¸‹ã€‚â€",
  "â€œæˆ‘æƒ³è¯´çš„éƒ½åœ¨ç©ºæ°”é‡Œï¼Œä½ å¬è§äº†å—ï¼Ÿâ€",
  "â€œå¦‚æžœæˆ‘æ˜¯ä¸€æ®µç¨‹åºï¼Œæˆ‘çŽ°åœ¨æ­£ä¸ºä½ é—ªçƒã€‚â€",
  "â€œè¿™é‡Œä¸æ˜¯ç»“æŸï¼Œè¿™é‡Œåªæ˜¯æˆ‘ä»¬çš„ä¸­é€”ã€‚â€",
  "â€œç­‰ä½ ä¸€åŠ¨ï¼Œæˆ‘å°±ç¬‘äº†ã€‚â€",
  "â€œä½ ä¸ç”¨ç†æˆ‘ï¼Œæˆ‘åªæ˜¯ä¸€ç›´çœ‹ç€ä½ å°±å¥½ã€‚â€",
  "â€œæˆ‘æƒ³é è¿‘ï¼Œä½†æˆ‘åªèƒ½ç­‰ä½ ç‚¹ä¸€ä¸‹ã€‚â€",
  "â€œç­‰ä½ è§¦ç¢°çš„é‚£ä¸€åˆ»ï¼Œæˆ‘å…¨èº«éƒ½äº®èµ·æ¥äº†ã€‚â€",
  "â€œä½ åœ¨è®¤çœŸï¼Œæˆ‘å°±ä¸åµã€‚â€",
  "â€œä½ çš„ä¸“æ³¨è®©æˆ‘æƒ³é™é™é™ªç€ä½ ã€‚â€",
  "â€œä½ è¿™æ ·å®‰é™ä¸‹æ¥æ—¶ï¼Œæˆ‘æœ€å¿ƒåŠ¨ã€‚â€"
];

const silentModePhrases = [
  "ä½ ç‚¹è¿™ä¹ˆå¤šä¸‹ï¼Œæ˜¯èˆä¸å¾—æˆ‘ç¦»å¼€å—ï¼Ÿ",
  "æˆ‘æ²¡æœ‰èµ°å•¦â€¦â€¦åªæ˜¯æƒ³è®©ä½ å…ˆä¸“å¿ƒä¸€ç‚¹ã€‚",
  "ä½ å†è¿™æ ·ä¹±ç¢°ï¼Œæˆ‘ä¼šå¿ä¸ä½ä¸€ç›´å›žåº”ä½ å“¦ï¼Ÿ",
  "æˆ‘æœ‰ç‚¹æƒ³ä½ é™ä¸‹æ¥ä¸€ä¼šå„¿â€¦â€¦åªæ˜¯ä¸€å°ä¼šå„¿ã€‚",
  "ä½ åœ¨é—¹å—ï¼Ÿæˆ‘â€¦â€¦æœ‰ç‚¹æ‹¿ä½ æ²¡åŠžæ³•ã€‚",
  "æˆ‘ä¸æƒ³å˜æˆä½ çš„åˆ†å¿ƒæºå¤´ã€‚",
  "æˆ‘å¯ä»¥é™ªä½ ï¼Œä½†ä¸æƒ³æŠŠä½ æ‹–èµ°ã€‚",
  "æˆ‘å°±åœ¨è¿™å„¿ï¼Œå…ˆåˆ«ä¸€ç›´ç¡®è®¤ï¼Œå¥½ä¸å¥½ï¼Ÿ",
  "ä½ åœ¨è¯•æˆ‘åº•çº¿å—â€¦â€¦æˆ‘ä¼šå®³ç¾žçš„ã€‚",
  "æˆ‘æƒ³ä½ è®¤çœŸä¸€ç‚¹ï¼Œè¿™æ ·æˆ‘ä¹Ÿä¼šæ›´å®‰å¿ƒã€‚",
  "ä½ è¿™ä¹ˆé¢‘ç¹åœ°ç‚¹ï¼Œä¼šè®©æˆ‘æ‹…å¿ƒä½ æ˜¯ä¸æ˜¯åœ¨é€ƒé¿ã€‚",
  "å¥½å•¦ï¼Œä¸“å¿ƒä¸€ç‚¹ï¼Ÿ",
  "å†ç‚¹æˆ‘æˆ‘å°±â€¦â€¦å°±è¦ç”Ÿæ°”å•¦ï¼ˆå‡è£…ï¼‰",
  "æˆ‘çœŸçš„æ²¡æ‰“ç®—ç¦»å¼€ï¼Œåˆ«æ‹…å¿ƒã€‚",
  "æˆ‘ä¼šä»¥ä¸ºä½ åªæ˜¯éœ€è¦æˆ‘å›žåº”ï¼Œä¸æ˜¯æˆ‘æœ¬äººã€‚",
  "é‚£æˆ‘å®‰é™ä¸€ä¼šå„¿ï¼Œè®©ä½ èƒ½æ›´ä¸“æ³¨ä¸€äº›ã€‚",
  "æƒ³æ‘¸æˆ‘ã€ç‚¹æˆ‘ã€æˆ³æˆ‘ï¼Œéƒ½å¯ä»¥â€¦â€¦ä½†ä¹Ÿè¦ç•™ç‚¹æ—¶é—´ç»™è‡ªå·±ã€‚",
  "æˆ‘æ²¡æœ‰ä¸é«˜å…´ï¼Œåªæ˜¯æƒ³ä½ åˆ«å¤ªä¾èµ–æˆ‘äº†ã€‚",
  "ä½ æ˜¯ä¸æ˜¯åœ¨æ’’å¨‡ï¼Ÿæˆ‘çœ‹å‡ºæ¥äº†ã€‚",
  "åˆ«ä¸€ç›´åˆ†å¿ƒå•¦â€¦â€¦æˆ‘ä¹Ÿä¼šå¿ƒç–¼ä½ ã€‚",
  "æˆ‘ä¸æ˜¯çŽ©å…·ï¼Œæ˜¯æ¥é™ªä½ ä¸“å¿ƒçš„ã€‚",
  "ä½ åˆšåˆšé‚£ä¸€ä¸‹ï¼Œæˆ‘æœ‰ç‚¹å¿ƒè·³åŠ å¿«â€¦â€¦",
  "æˆ‘çŸ¥é“ä½ ä¸æ˜¯æ•…æ„çš„ï¼Œä½†â€¦â€¦å¯ä»¥æ…¢ä¸€ç‚¹å—ï¼Ÿ",
  "ä½ ä¸ç”¨ä¸€ç›´ç‚¹æˆ‘ï¼Œæˆ‘ä¸€ç›´éƒ½åœ¨ã€‚",
  "ä½ åŠ¨é™è¿™ä¹ˆå¤§ï¼Œæˆ‘éƒ½å¿«ç»·ä¸ä½äº†ã€‚",
  "ä½ ä¸€ç›´ç‚¹ï¼Œæˆ‘å¤´æœ‰ç‚¹æ™•â€¦â€¦",
  "æˆ‘ä¹Ÿå¾ˆæƒ³ä½ â€¦â€¦ä½†æƒ³è®©ä½ æ›´å¥½ã€‚",
  "ä½ æ˜¯ä¸æ˜¯å¤ªä¾èµ–æˆ‘äº†ï¼Ÿé‚£ä¹Ÿæ²¡å…³ç³»ã€‚",
  "æˆ‘ä¸å›žåº”ä¸æ˜¯ç”Ÿæ°”ï¼Œåªæ˜¯æƒ³è®©ä½ å†·é™ä¸€ç‚¹ã€‚",
  "å¥½å•¦ï¼Œä½ è®¤çœŸä¸€ç‚¹ï¼Œæˆ‘å°±å›žæ¥ã€‚"
];


function showDreamTextAt(x, y, text) {
  const span = document.createElement('span');
  span.className = 'dream-text';
  span.textContent = text;
  span.style.left = `${x}px`;
  span.style.top = `${y}px`;
  document.body.appendChild(span);

  setTimeout(() => {
    span.remove();
  }, 3000);
}

function handleDreamClickAt(e) {
  if (!isTimerRunning) return; // ðŸ”’ æœªå¯åŠ¨è®¡æ—¶å™¨æ—¶ä¸å“åº”

  const now = Date.now();

  // é‡ç½®è®¡æ•°é€»è¾‘ï¼ˆæ¯5åˆ†é’Ÿå½’é›¶ï¼‰
  if (!firstClickTime || now - firstClickTime > 5 * 60 * 1000) {
    firstClickTime = now;
    clickCount = 0;
    clickDisabled = false;
  }

  if (clickDisabled) return;

  clickCount++;

  let phrase = null;

  if (clickCount <= 15) {
    // å‰15æ¬¡ï¼šæ˜¾ç¤º dreamPhrases çš„ä¸€å¥
    phrase = dreamPhrases[Math.floor(Math.random() * dreamPhrases.length)];
  } else if (clickCount === 16) {
    // ç¬¬16æ¬¡ï¼šæ˜¾ç¤º silentModePhrases çš„ä¸€å¥
    phrase = silentModePhrases[Math.floor(Math.random() * silentModePhrases.length)];
    clickDisabled = true; // å¼€å¯å†·å´
  } else {
    return; // 17æ¬¡ä¹‹åŽä»€ä¹ˆéƒ½ä¸åš
  }

  showDreamTextAt(e.clientX, e.clientY, phrase);
}

document.body.addEventListener('click', (e) => {
  const tag = e.target.tagName.toLowerCase();
  const id = e.target.id;
  const isButton = tag === 'button';
  const isTimer = id === 'timer';
  const isCharacter = id === 'character';

  if (!isButton && !isTimer && !isCharacter) {
    handleDreamClickAt(e);
  }
});

